import{j as e,r as h,Y as z,a as I,y as H,b as R}from"./app-DUUes-Qe.js";import{A as U}from"./AdminAuthenticated-Ds-dgqPm.js";import{P as f}from"./PermissionAllow-a6rJKmWW.js";import{a as Y,T}from"./Tab-C1Hye88o.js";import{a as q}from"./Anchor-MvCfxlSE.js";import{g as B,N as G,T as J,a as W,d as X,e as Z}from"./TabPane-C2svdKL9.js";import{m as D,f as ee}from"./ElementChildren-CRTP-sSI.js";import{M as te}from"./ModalPopup-CExvcBov.js";import se from"./ViewSeller-C6jUQu1V.js";import{P as ae}from"./Pagination-H8Bbruy8.js";import"./Dropdown-CFmbVfto.js";import"./AdminSidebar-qQiqrWh-.js";import"./listen-8kQ8eSJE.js";import"./useWindow-BvcGFOsK.js";import"./index-BzWycOG-.js";import"./ToastNotification-Cn01RQ_-.js";import"./index-BgGHsYll.js";import"./extends-B6xKY8K9.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./Fade-DrSkmKeO.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./TransitionGroupContext-B97ufHi8.js";import"./Modal-GfOXL3US.js";import"./slick-theme-DDV2-tOd.js";import"./StatusBtn-CdFYYB-R.js";import"./DynamicSelect-BKfvyjPD.js";import"./react-select-creatable.esm-B34YDLx3.js";import"./useStateManager-7e1e8489.esm-D26xKiTS.js";import"./objectSpread2-BZX5QY3a.js";import"./defineProperty-DpFVb8oi.js";import"./inherits-CWsdyUoO.js";import"./emotion-react.browser.esm-BGHy7EY5.js";import"./extends-COuXmZt1.js";function re(a){let s;return ee(a,r=>{s==null&&(s=r.props.eventKey)}),s}function le(a){const{title:s,eventKey:r,disabled:p,tabClassName:u,tabAttrs:l,id:o}=a.props;return s==null?null:e.jsx(X,{as:"li",role:"presentation",children:e.jsx(Z,{as:"button",type:"button",eventKey:r,disabled:p,id:o,className:u,...l,children:s})})}const L=a=>{const{id:s,onSelect:r,transition:p,mountOnEnter:u=!1,unmountOnExit:l=!1,variant:o="tabs",children:n,activeKey:t=re(n),...j}=q(a,{activeKey:"onSelect"});return e.jsxs(Y,{id:s,activeKey:t,onSelect:r,transition:B(p),mountOnEnter:u,unmountOnExit:l,children:[e.jsx(G,{id:s,...j,role:"tablist",as:"ul",variant:o,children:D(n,le)}),e.jsx(J,{children:D(n,g=>{const x={...g.props};return delete x.title,delete x.disabled,delete x.tabClassName,delete x.tabAttrs,e.jsx(W,{...x})})})]})};L.displayName="Tabs";function Qe({vendorsList:a,pendingVendorsList:s,suspendedVendorsList:r,auth:p}){const[l,o]=h.useState(1),[n,t]=h.useState(""),[j,g]=h.useState(a.data),[x,M]=h.useState(s.data),[k,F]=h.useState(r.data),[i,O]=h.useState("ApprovedSellers"),S=d=>{window.confirm("Are you sure you want to delete the Seller?")&&H.delete(route("admin.sellers.destroy",d.id))},N=(d,c)=>{o(c),window.scrollTo(0,0)},v=d=>{const c=d.target.value;t(c);let m;i==="ApprovedSellers"?(m=a.data.filter(b=>b.full_name.toLowerCase().includes(c.toLowerCase())),g(m)):i==="PendingApproval"?(m=s.data.filter(b=>b.full_name.toLowerCase().includes(c.toLowerCase())),M(m)):i==="SuspendedSellers"&&(m=r.data.filter(b=>b.full_name.toLowerCase().includes(c.toLowerCase())),F(m)),o(1)},y=(()=>{if(n.length>0){if(i==="ApprovedSellers")return j;if(i==="PendingApproval")return x;if(i==="SuspendedSellers")return k}else{if(i==="ApprovedSellers")return a.data;if(i==="PendingApproval")return s.data;if(i==="SuspendedSellers")return r.data}})(),P=(l-1)*20,w=l*20,[V,C]=h.useState(!1),[E,$]=h.useState(null),_=()=>C(!1),A=async d=>{try{const m=(await R.get(route("admin.sellers.show",d.id))).data;$(m),C(!0)}catch(c){console.error("Error fetching data",c)}},Q=()=>{C(!1)};return e.jsxs(U,{user:p.user,children:[e.jsx(z,{title:"Sellers List"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("div",{className:"me-auto",children:e.jsx("h4",{className:"page-title",children:"Sellers Listing"})})})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"text-end",children:e.jsx(f,{permission:"Seller Create",children:e.jsxs(I,{className:"btn btn-info text-end",href:route("admin.sellers.create"),children:[e.jsx("i",{className:"bi bi-plus"})," Create"]})})})})]})}),e.jsxs(L,{id:"uncontrolled-tab-example",activeKey:i,onSelect:d=>O(d),className:"mb-3",children:[e.jsxs(T,{eventKey:"ApprovedSellers",title:"Approved Sellers",children:[e.jsx("div",{className:"mb-3 col-lg-4",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:n,onChange:v})}),e.jsx(K,{displayList:y,startIdx:P,endIdx:w,deleteVendor:S,handlePageChange:N,currentPage:l,itemsPerPage:20,handleShow:A})]}),e.jsxs(T,{eventKey:"PendingApproval",title:`Pending Approval (${s.data.length})`,children:[e.jsx("div",{className:"mb-3 col-lg-4",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:n,onChange:v})}),e.jsx(K,{displayList:y,startIdx:P,endIdx:w,deleteVendor:S,handlePageChange:N,currentPage:l,itemsPerPage:20,handleShow:A})]}),e.jsxs(T,{eventKey:"SuspendedSellers",title:"Suspended Sellers",children:[e.jsx("div",{className:"mb-3 col-lg-4",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:n,onChange:v})}),e.jsx(K,{displayList:y,startIdx:P,endIdx:w,deleteVendor:S,handlePageChange:N,currentPage:l,itemsPerPage:20,handleShow:A})]})]})]})}),e.jsx(te,{show:V,handleClose:_,size:"lg",title:"Seller Details",children:E?e.jsx(se,{collection:E,handleClose:_,onSubmit:Q}):"Failed fetching data..."})]})}const K=({displayList:a,startIdx:s,endIdx:r,deleteVendor:p,handlePageChange:u,currentPage:l,itemsPerPage:o,handleShow:n})=>e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsx("div",{className:"box-body",children:e.jsxs(f,{permission:"Categories Listing",message:"true",children:[e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs("table",{className:"table border-no",id:"example1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Designation"}),e.jsx("th",{className:"text-center",children:"Status"}),e.jsx("th",{children:"Last Modified"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:a.slice(s,r).map(t=>e.jsxs("tr",{className:"hover-primary",children:[e.jsx("td",{children:t.id}),e.jsxs("td",{children:[e.jsx("img",{src:t.picture,className:"w-30 h-30 me-3 rounded-circle",alt:`${t.picture} icon`,onError:j=>{j.target.onerror=null,j.target.src="/assets/admin/images/noimage.webp"}})," ",e.jsx("span",{children:t.full_name})]}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.phone}),e.jsx("td",{children:t.company_name}),e.jsx("td",{children:t.designation}),e.jsx("td",{className:"text-center",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:window.statusIcon(t.status)}})}),e.jsx("td",{children:t.updated_at}),e.jsxs("td",{children:[e.jsx(f,{permission:"Seller Show",children:e.jsx("span",{onClick:()=>n(t),className:"btn btn-transparent",children:e.jsx("i",{className:"bi bi-eye"})})}),e.jsx(f,{permission:"Seller Edit",children:e.jsx(I,{className:"btn btn-transparent",href:route("admin.sellers.edit",t.id),children:e.jsx("i",{className:"bi bi-pencil"})})}),e.jsx(f,{permission:"Seller Edit",children:e.jsx("button",{onClick:()=>p(t),className:"btn btn-transparent border-0",children:e.jsx("i",{className:"bi bi-trash"})})})]})]},t.id))})]})}),a.length>o&&e.jsx("div",{className:"pagination-container float-end py-5",children:e.jsx(ae,{count:Math.ceil(a.length/o),page:l,onChange:u})})]})})})})})});export{Qe as default};
