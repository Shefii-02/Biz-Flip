import{r as R,g as X,W as Z,j as e,Y as $,a as U}from"./app-b61ggBVK.js";import{A as ee}from"./AdminAuthenticated-D6-pV21W.js";import{I as u}from"./InputError-CIBSIQ9H.js";import{T as h}from"./TextInput-CAtUELi7.js";import{I as j}from"./InputLabel-CdNfTY-x.js";import{R as q}from"./RadioButtonLabel-DUf6mi0c.js";import"./index-B1IIQBEw.js";import"./AdminSidebar-Jt8wJB0G.js";import"./objectWithoutPropertiesLoose-DgWvQqX6.js";import"./ToastNotification-BPLhBA2Y.js";var K={exports:{}},I={};Object.defineProperty(I,"__esModule",{value:!0});var v,d=R,O=(v=d)&&typeof v=="object"&&"default"in v?v.default:v;function P(){return(P=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var r=arguments[l];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(s[m]=r[m])}return s}).apply(this,arguments)}var W=[],Y=!1,F=function(){if(Y)for(var s;s=W.shift();)s()};window.__unlayer_lastEditorId=window.__unlayer_lastEditorId||0;var J=O.forwardRef(function(s,l){var r,m,n,g,f,x,b,N,o,p=s.onLoad,y=s.onReady,_=s.scriptUrl,w=s.minHeight,t=w===void 0?500:w,i=s.style,k=i===void 0?{}:i,E=d.useState(null),a=E[0],z=E[1],L=d.useState(!1),D=L[0],H=L[1],M=d.useMemo(function(){return s.editorId||"editor-"+ ++window.__unlayer_lastEditorId},[s.editorId]),A=P({},s.options||{},{appearance:(r=s.appearance)!=null?r:(m=s.options)==null?void 0:m.appearance,displayMode:(s==null?void 0:s.displayMode)||((n=s.options)==null?void 0:n.displayMode)||"email",locale:(g=s.locale)!=null?g:(f=s.options)==null?void 0:f.locale,projectId:(x=s.projectId)!=null?x:(b=s.options)==null?void 0:b.projectId,tools:(N=s.tools)!=null?N:(o=s.options)==null?void 0:o.tools,id:M,source:{name:"react-email-editor",version:"1.7.10"}});d.useImperativeHandle(l,function(){return{editor:a}},[a]),d.useEffect(function(){return function(){a==null||a.destroy()}},[]),d.useEffect(function(){H(!1),function(c,C){if(C===void 0&&(C="https://editor.unlayer.com/embed.js?2"),W.push(function(){return H(!0)}),function(G){var Q=document.querySelectorAll("script"),B=!1;return Q.forEach(function(V){V.src.includes(G)&&(B=!0)}),B}(C))F();else{var S=document.createElement("script");S.setAttribute("src",C),S.onload=function(){Y=!0,F()},document.head.appendChild(S)}}(0,_)},[_]),d.useEffect(function(){D&&(a==null||a.destroy(),z(unlayer.createEditor(A)))},[JSON.stringify(A),D]);var T=Object.keys(s).filter(function(c){return/^on/.test(c)});return d.useEffect(function(){a&&(p==null||p(a),T.forEach(function(c){/^on/.test(c)&&c!=="onLoad"&&c!=="onReady"&&typeof s[c]=="function"&&a.addEventListener(c,s[c])}),y&&a.addEventListener("editor:ready",function(){y(a)}))},[a,Object.keys(T).join(",")]),O.createElement("div",{style:{flex:1,display:"flex",minHeight:t}},O.createElement("div",{id:M,style:P({},k,{flex:1})}))});I.EmailEditor=J,I.default=J;K.exports=I;var se=K.exports;const te=X(se);function fe({auth:s}){const{data:l,setData:r,post:m,errors:n,reset:g}=Z({title:"",content:"",status:1,seo_title:"",seo_keywords:"",seo_description:"",image:"",design:""}),[f,x]=R.useState(""),b=t=>{const i=t.target.files[0];i&&(r("image",i),x(URL.createObjectURL(i)))},N=()=>{r("image",""),x("")},o=(t,i)=>{r(t,i),console.log(t,i)},p=R.useRef(null),y=()=>new Promise((t,i)=>{p.current.editor.exportHtml(k=>{const{design:E,html:a}=k;o("design",E),o("content",a)}),t()});function _(){console.log(l)}const w=async t=>{t.preventDefault(),await y(),await _()};return e.jsxs(ee,{user:s.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Content Page/Create"}),children:[e.jsx($,{title:"Content Page Create"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h4",{className:"page-title",children:" Create Content Page"}),e.jsx("div",{className:"d-inline-block align-items-center mt-2",children:e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsxs(U,{href:route("admin.index"),children:[e.jsx("i",{className:"bi bi-house"})," Dashboard"]})}),e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(U,{href:route("admin.content-page.index"),children:"Content Page"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create"})]})})})]})}),e.jsx("div",{className:"col-lg-6"})]})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsx("div",{className:"box-body",children:e.jsx("form",{onSubmit:w,children:e.jsxs("div",{className:"form-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-9",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 mb-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx(j,{className:"fw-700 fs-16 form-label form-group__label",children:"Title"}),e.jsx(h,{id:"title",type:"text",name:"title",className:"form-control",value:l.title,onChange:t=>o("title",t.target.value),autoComplete:"off"}),e.jsx(u,{message:n.title,className:"mt-2 col-12"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx(j,{className:"fw-700 fs-16 form-label form-group__label",children:"SEO Title"}),e.jsx(h,{id:"seo_title",type:"text",name:"seo_title",className:"form-control",value:l.seo_title,onChange:t=>o("seo_title",t.target.value),autoComplete:"off"}),e.jsx(u,{message:n.seo_title,className:"mt-2 col-12"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx(j,{className:"fw-700 fs-16 form-label form-group__label",children:"SEO Keywords"}),e.jsx(h,{id:"seo_keywords",type:"text",name:"seo_keywords",className:"form-control",value:l.seo_keywords,onChange:t=>o("seo_keywords",t.target.value),autoComplete:"off"}),e.jsx(u,{message:n.seo_keywords,className:"mt-2 col-12"})]})}),e.jsx("div",{className:"col-md-12 mb-3",children:e.jsxs("div",{className:"form-group",children:[e.jsx(j,{className:"fw-700 fs-16 form-label form-group__label",children:"SEO Description"}),e.jsx(h,{id:"seo_description",type:"text",name:"seo_description",className:"form-control",value:l.seo_description,onChange:t=>o("seo_description",t.target.value),autoComplete:"off"}),e.jsx(u,{message:n.seo_description,className:"mt-2 col-12"})]})})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"border rounded-4 p-3 text-center",children:[e.jsx("h4",{className:"box-title text-center",children:"Breadcrumb Image"}),e.jsxs("div",{className:"product-img",children:[f?e.jsxs("div",{className:"mb-15 text-center position-relative",children:[e.jsx("img",{src:f,alt:"Selected",className:"w-50 rounded-5"}),e.jsx("i",{role:"button",className:"bi bi-x-lg fw-bold position-absolute text-danger top-0",onClick:N})]}):e.jsx("img",{src:"/assets/admin/images/noimage.webp",alt:"No Image",className:"mb-15 w-75 text-center"}),e.jsxs("div",{className:"btn mb-20",children:[e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>document.getElementById("project_image_path").click(),children:"Choose Image"}),e.jsx(h,{id:"project_image_path",type:"file",name:"image",className:"d-none mt-1 block w-full upload",onChange:b})]}),e.jsx(u,{message:n.image,className:"mt-2 col-12"})]})]})})})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-group",children:[e.jsx(j,{className:"fw-700 fs-16 form-label form-label",children:"Content"}),e.jsx(u,{message:n.content,className:"mt-2 col-12"}),e.jsx(te,{ref:p})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"fw-700 fs-16 form-label",children:"Status"}),e.jsxs("div",{className:"radio-list",children:[e.jsx(q,{name:"status",onChange:t=>o("status",t),value:"1",checked:l.status===1,label:"Published"}),e.jsx(q,{name:"status",onChange:t=>o("status",t),value:"0",checked:l.status===0,label:"Draft"})]}),e.jsx(u,{message:n.status,className:"mt-2 col-12"})]})})}),e.jsxs("div",{className:"form-actions mt-3 d-flex justify-content-end",children:[e.jsx("button",{type:"submit",className:"btn btn-primary me-2",children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(),children:"Reset"})]})]})})})})})})})]})})]})}export{fe as default};
