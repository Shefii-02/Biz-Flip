import{r as t,W as R,j as e,Y as P,a as c,S as C,b as d,y as D}from"./app-BzHzbjUi.js";import"./Dropdown-B8zNYMVj.js";import"./index-BiAyyWDW.js";import{P as i}from"./PermissionAllow-r-u98lAn.js";import q from"./Wrapper-COpX5tPC.js";import"./SuperResponsiveTableStyle-DO_HeWs7.js";import{M as k}from"./ModalPopup-wJ0IhuzX.js";import E from"./Permissions-AB0AI3jn.js";import{s as F}from"./server.browser-v383zuE6.js";import"./SideBar-AVg5eXSU.js";import"./ProfileDropdown-BH4lVoVJ.js";import"./Header-B563rRJh.js";import"./ToastNotification-CNh4IScK.js";import"./extends-EvnU8zeS.js";import"./extends-B6xKY8K9.js";import"./inherits-CSJ0amQz.js";import"./toPropertyKey-DB3bi1z3.js";import"./setPrototypeOf-DgZC2w_0.js";import"./index-DOHSW8CS.js";import"./Modal-NL7CEDYF.js";import"./useMergedRefs-p-XhYV3y.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./TransitionGroupContext-BG4bzCke.js";function te({auth:m,roles:x}){const[n,h]=t.useState(x.data),{data:l,setData:p}=R({q:""}),j=async()=>{r(!0);const s=await d.get(route("seller.roles.search",l));h(s.data),r(!1)},u=function(s){window.confirm("Are you sure you want to delete the role?")&&D.delete(route("seller.roles.destroy",s))},[b,o]=t.useState(!1),[f,N]=t.useState(null),[v,g]=t.useState(null),[w,r]=t.useState(!1),y=()=>o(!1),S=async function(s){g(`Permissions of ${s.name}`),r(!0);const a=await d.get(route("seller.roles.show",s.id));N(F.renderToString(e.jsx(E,{permissions:a.data.permissions}))),r(!1),o(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Staff roles"}),e.jsxs(q,{user:m.user,children:[e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"max-w-screen-lg vstack gap-6 m-auto",children:[e.jsx("div",{className:"text-xl font-bold",children:"Staff roles"}),e.jsx("div",{children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-bottom",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"me-2",children:e.jsx("input",{defaultValue:l.q,onChange:s=>p("q",s.target.value),type:"search",placeholder:"Search by name",className:"text-overflow form-control"})}),e.jsx("div",{className:"ms-2",children:e.jsx("button",{onClick:s=>j(),type:"button",className:"btn btn-neutral me-2",children:e.jsx("i",{className:"bi bi-search"})})}),e.jsx(i,{permission:"Role and Responsibilities Create",children:e.jsx("div",{className:"ms-auto",children:e.jsxs(c,{className:"btn btn-primary text-overflow",href:route("seller.roles.create"),children:[e.jsx("i",{className:"bi bi-plus text-md"}),e.jsx("span",{className:"d-none d-md-inline",children:"New role"})]})})})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover table-nowrap",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"ID"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Permissions"}),e.jsx("th",{scope:"col",children:"Last updated"}),e.jsx("th",{scope:"col"})]})}),e.jsx("tbody",{children:n.length?e.jsx(e.Fragment,{children:n.map(s=>e.jsxs("tr",{children:[e.jsxs("td",{children:["#",s.id]}),e.jsx("td",{children:s.name}),e.jsx("td",{children:e.jsxs("div",{role:"button",onClick:a=>S(s),className:"text-primary text-decoration-none",children:[s.total_permissions," permissions"]})}),e.jsx("td",{children:s.updated_text}),e.jsxs("td",{children:[e.jsx(i,{permission:"Role and Responsibilities Edit",children:e.jsx(c,{href:route("seller.roles.edit",s.id),type:"button",className:"btn btn-sm btn-square btn-neutral text-danger-hover me-2",children:e.jsx("i",{className:"bi bi-pen"})})}),e.jsx(i,{permission:"Role and Responsibilities Delete",children:e.jsx("button",{onClick:a=>u(s.id),className:"btn btn-sm btn-square btn-neutral text-danger-hover",children:e.jsx("i",{className:"bi bi-trash"})})})]})]},s.id))}):e.jsx(e.Fragment,{children:e.jsx("tr",{children:e.jsx("td",{className:"text-center",colSpan:"100",children:"No records found.."})})})})]})})]})})]})})}),w&&e.jsx(C,{}),e.jsx(k,{animation:!1,centered:!0,show:b,handleClose:y,data:f,title:v})]})]})}export{te as default};
