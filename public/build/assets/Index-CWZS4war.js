import{r,j as e,Y as C,a as l,y as w}from"./app-DUUes-Qe.js";import{A as y}from"./AdminAuthenticated-Ds-dgqPm.js";import{P as S}from"./Pagination-H8Bbruy8.js";import"./Dropdown-CFmbVfto.js";import"./AdminSidebar-qQiqrWh-.js";import"./listen-8kQ8eSJE.js";import"./useWindow-BvcGFOsK.js";import"./Anchor-MvCfxlSE.js";import"./extends-B6xKY8K9.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./index-BzWycOG-.js";import"./PermissionAllow-a6rJKmWW.js";import"./ToastNotification-Cn01RQ_-.js";import"./extends-COuXmZt1.js";import"./emotion-react.browser.esm-BGHy7EY5.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./TransitionGroupContext-B97ufHi8.js";function H({cityList:c,auth:x,success:j=null,error:u=null}){const[i,d]=r.useState(1),[o,p]=r.useState(""),[b,g]=r.useState([]);r.useEffect(()=>{const a=new URLSearchParams(window.location.search).get("name")||"";m(a)},[]);const N=s=>{window.confirm("Are you sure you want to delete the City?")&&w.delete(route("admin.city.destroy",s.id))},f=(s,a)=>{d(a),window.scrollTo(0,0)},v=s=>{const a=s.target.value;m(a)},m=(s=null)=>{p(s);const a=c.data.filter(t=>t.name.toLowerCase().includes(s.toLowerCase()));g(a),d(1)},n=o.length>0?b:c.data,h=(i-1)*50,P=i*50;return e.jsxs(y,{user:x.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"City"}),success:j,error:u,children:[e.jsx(C,{title:"City List"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h4",{className:"page-title",children:"Cities"}),e.jsx("div",{className:"d-inline-block align-items-center mt-2",children:e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsxs(l,{href:route("admin.index"),children:[e.jsx("i",{className:"bi bi-house"})," Dashboard"]})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Cities"})]})})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"text-end",children:e.jsxs(l,{className:"btn btn-info text-end",href:route("admin.city.create"),children:[e.jsx("i",{className:"bi bi-plus"})," Create"]})})})]})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:o,onChange:v})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"box-body",children:[e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs("table",{className:"table border-no",id:"example1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Position"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Modified"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:n.slice(h,P).map((s,a)=>e.jsxs("tr",{className:"hover-primary",children:[e.jsx("td",{children:a+h+1}),e.jsx("td",{children:e.jsx("img",{src:s.image,className:"w-100 rounded-5 ",alt:`${s.image} icon`,onError:t=>{t.target.onerror=null,t.target.src="/assets/admin/images/noimage.webp"}})}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.position}),e.jsx("td",{children:s.status}),e.jsx("td",{children:s.updated_at}),e.jsxs("td",{children:[e.jsx(l,{className:"btn btn-transparent",href:route("admin.city.edit",s.id),children:e.jsx("i",{className:"bi bi-pencil"})}),e.jsx("button",{onClick:t=>N(s),className:"btn btn-transparent border-0",children:e.jsx("i",{className:"bi bi-trash"})})]})]},s.id))})]})}),n.length>50&&e.jsx("div",{className:"pagination-container float-end py-5",children:e.jsx(S,{count:Math.ceil(n.length/50),page:i,onChange:f})})]})})})})})]})})]})}export{H as default};
