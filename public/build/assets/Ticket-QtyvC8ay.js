import{W as p,r as j,j as e,Y as v,a as b}from"./app-CJ8gtaWK.js";import"./PermissionAllow-8aMWW39F.js";import g from"./Wrapper-tmEhO1av.js";import{I as N}from"./InputError-CXZmLGzP.js";import"./SideBar-WttygLfw.js";import"./ProfileDropdown-CagPJwpp.js";import"./Header-tbxw0iTs.js";import"./ToastNotification-GiQwRqxR.js";function $({ticket:a,messages:t,auth:r,success:n,error:i}){const{data:l,setData:d,post:c,errors:o,reset:m}=p({message:"",_method:"PUT"});j.useState("");const x=(s,h)=>{d(s,h)},u=async s=>{s.preventDefault(),await c(route("seller.tickets.update",a.id),{preserveScroll:!0,onSuccess:()=>{m("message")}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:`Support Ticket#${a.id}`}),e.jsx(g,{user:r.user,success:n,error:i,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"max-w-screen-md vstack gap-6 m-auto",children:[a.status=="solved"?e.jsxs("div",{className:"alert alert-warning rounded-input border-0",children:["This ticket has been closed and is no longer active, if you need any further assitance please open another ticket and mention your ticket ",e.jsxs("strong",{children:["ID#",a.id]})]}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"text-xl font-bold",children:["Support Ticket#",a.id]}),e.jsx("div",{className:"ms-auto",children:e.jsxs(b,{href:route("seller.tickets.index"),className:"btn btn-neutral",children:[e.jsx("i",{className:"bi bi-arrow-left"})," Go back"]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex flex-row-reverse",children:[e.jsx("div",{className:"bg-light text-primary ms-2 rounded-circle d-flex align-items-center message-avatar",children:e.jsx("div",{className:"m-auto fond-bold text-md",children:a.sender_name.substring(0,1)})}),e.jsxs("div",{class:"col",children:[e.jsx("div",{className:"small",children:a.date_text}),e.jsxs("div",{className:"message alert bg-primary rounded-input text-white mb-3",children:["You opened ticket at with ",a.priority,".",e.jsxs("div",{children:["Subject.",a.subject]})]})]})]}),t.data.map(s=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:`d-flex ${s.is_sender?"flex-row-reverse":""}`,children:[e.jsx("div",{className:`bg-light text-primary d-flex rounded-circle align-items-center message-avatar ${s.is_sender?"ms-2":"me-2"}`,children:e.jsx("div",{className:"m-auto font-bold text-md",children:s.sender_name.substring(0,1)})}),e.jsxs("div",{class:"col",children:[e.jsxs("div",{className:`${s.is_sender?"text-end":"text-start"} small`,children:[s.is_sender?"":s.sender_name," ",s.date_text]}),e.jsx("div",{className:`${s.is_sender?"bg-primary text-end ms-auto":"me-auto text-start text-dark bg-light"} message w-auto alert rounded-input text-white mb-3`,children:s.message})]})]})}))]}),a.status=="open"?e.jsx("form",{onSubmit:u,children:e.jsxs("div",{className:"row g-5",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{children:"Your message"}),e.jsx("textarea",{value:l.message,name:"message",id:"message",onChange:s=>{x("message",s.target.value)},placeholder:"Tell us about how can we help you!",className:"form-control"}),e.jsx(N,{message:o.message}),e.jsx("div",{className:"text-muted small",children:"Describe how we can help you. You can also attach images, docuements etc."})]}),e.jsxs("div",{className:"col-12 text-end",children:[e.jsx("button",{type:"button",className:"btn btn-neutral me-2",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Send message"})]})]})}):e.jsxs("div",{className:"alert alert-warning rounded-input border-0",children:["This ticket has been closed and is no longer active, if you need any further assitance please open another ticket and mention your ticket ",e.jsxs("strong",{children:["ID#",a.id]})]})]})})})})]})}export{$ as default};
