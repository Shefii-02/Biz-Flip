import{r as a,W as q,j as e,S as I,Y as P,a as u,b as E,y as R}from"./app-C7Wmsx-r.js";import"./Dropdown-B0qLyvOA.js";import"./index-CzsITtD-.js";import{P as p}from"./PermissionAllow-SWIDdt0G.js";import W from"./Wrapper-BG-gv0mJ.js";import L from"./AdsTable-DiTeH-1g.js";import M from"./Delete-CJNxOO28.js";import{S as r}from"./react-select.esm-igNl8vbU.js";import"./SideBar-C5XeElQ2.js";import"./ProfileDropdown-em-Z3wSF.js";import"./Header-D9VyhKxS.js";import"./ToastNotification-gx8mAVOD.js";import"./AdStatusBtn-CtipdYbS.js";import"./AdAction-5DaMTTbV.js";import"./Modal-Zzk52Z60.js";import"./listen-DBSKtzGo.js";import"./useWindow-Bp8QNRUJ.js";import"./Fade-Du7pQ0im.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./index-D1UJqtKR.js";import"./index-Chjiymov.js";import"./TransitionGroupContext-BvsyIu3A.js";import"./useStateManager-7e1e8489.esm-K7qsbL5R.js";import"./extends-CCbyfPlC.js";import"./objectSpread2-Cb9oE9w6.js";import"./defineProperty-D_iN_pGO.js";import"./extends-CkJbhqZ5.js";import"./emotion-react.browser.esm-DdNgd-M_.js";import"./hoist-non-react-statics.cjs-Ae5wMIlW.js";function ge({auth:x,ads:b,categories:c,industries:n}){const[h,d]=a.useState(!1),[g,v]=a.useState(b.data),{data:t,setData:l}=q({q:"",status:"",status_title:"All status",category:"",category_title:"All categories",industry:"",industry_title:"All industries"}),j=async()=>{d(!0);const s=await E.get(route("seller.ads.search",t));v(s.data),d(!1)},[f,o]=a.useState(!1),[N,y]=a.useState(null),A=function(s){o(!1),R.delete(route("seller.ads.destroy",s))},S=s=>{y(s),o(!0)},w=()=>o(!1),C=[{label:"Pending",value:-1},{label:"Active",value:1},{label:"Inactive",value:0},{label:"Sold",value:2}],[_,D]=a.useState(n),k=s=>{const m=c.find(V=>V.value===s);D(m?m.ad_category_collection:n)},[i,F]=a.useState(!1);return e.jsxs(e.Fragment,{children:[h&&e.jsx(I,{}),e.jsx(P,{title:"Ads"}),e.jsx(M,{showDelete:f,handleClose:w,deleteAction:A,deleteId:N,setShowDelete:o}),e.jsx(W,{user:x.user,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container-fluid px-3 px-lg-6",children:e.jsxs("div",{className:"vstack gap-6 m-auto",children:[e.jsx("div",{className:"text-xl font-bold",children:"Ads"}),e.jsx("div",{children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header border-bottom",children:[e.jsxs("div",{className:"d-flex d-lg-none align-items-center",children:[e.jsxs("div",{onClick:s=>F(!i),className:"d-lg-none btn btn-secondary text-overflow",children:["Filters ",i?e.jsx("i",{class:"bi bi-chevron-compact-up"}):e.jsx("i",{class:"bi bi-chevron-compact-down"})]}),e.jsx(p,{permission:"Ad Create",children:e.jsx("div",{className:"ms-auto",children:e.jsxs(u,{className:"btn btn-primary text-overflow",href:route("seller.ads.create"),children:[e.jsx("i",{className:"bi bi-plus text-md"}),"New ad"]})})})]}),e.jsx("div",{className:i?"d-lg-block":"d-none d-lg-block",children:e.jsxs("div",{className:"row align-items-center mt-4 mt-lg-0",children:[e.jsx("div",{className:"col-12 col-lg-auto mb-3 mb-lg-0",children:e.jsx("input",{defaultValue:t.q,onChange:s=>l("q",s.target.value),type:"search",placeholder:"Search by name, location etc",className:"text-overflow form-control"})}),e.jsx("div",{className:"col-12 col-lg-auto mb-3 mb-lg-0",children:e.jsx(r,{defaultValue:{value:t.category,label:t.category_title},onChange:s=>{l("category",s.value),k(s.value)},options:[{label:"All categories",value:""},...c]})}),e.jsx("div",{className:"col-12 col-lg-auto mb-3 mb-lg-0",children:e.jsx(r,{defaultValue:{value:t.industry,label:t.industry_title},onChange:s=>{l("industry",s.value)},options:[{label:"All industries",value:""},..._]})}),e.jsx("div",{className:"col-12 col-lg-auto mb-3 mb-lg-0",children:e.jsx(r,{defaultValue:{value:t.status,label:t.status_title},onChange:s=>l("status",s.value),options:[{label:"All status",value:""},...C]})}),e.jsx("div",{className:"col-12 col-lg-auto mb-3 mb-lg-0",children:e.jsxs("button",{onClick:s=>j(),type:"button",className:"btn btn-neutral w-full",children:[e.jsx("span",{className:"d-inline d-lg-none me-2",children:"Search"}),e.jsx("i",{className:"bi bi-search"})]})}),e.jsx(p,{permission:"Ad Create",children:e.jsx("div",{className:"ms-auto d-none d-lg-block col-lg-auto",children:e.jsxs(u,{className:"btn btn-primary text-overflow",href:route("seller.ads.create"),children:[e.jsx("i",{className:"bi bi-plus text-md"}),"New ad"]})})})]})})]}),e.jsx(L,{confirmDelete:S,ads:g})]})})]})})})})]})}export{ge as default};
