import{W as p,j as e,Y as j,a as u,b as c}from"./app-BLep4a_v.js";import{A as b}from"./AdminAuthenticated-C_X71V-Q.js";import{P as o}from"./PermissionAllow-Bw1nH26z.js";import{d as s}from"./index-BOXucDUL.js";/* empty css                                  */import{S as i}from"./sweetalert2.all-hjkzOqt3.js";import"./Dropdown-C-ntnV8Y.js";import"./AdminHeader-BYBR0nrz.js";import"./Dropdown-DaR_s_6f.js";import"./listen-bVhbO5mt.js";import"./useWindow-CgfjH_xT.js";import"./Anchor-Djf5sm_B.js";import"./extends-CCbyfPlC.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./index-Ce-lT5oA.js";import"./BootstrapModalManager-Z6MjKZtp.js";import"./Fade-DuAq4uZE.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./index-YoWyG7So.js";import"./ToastNotification-xqERWRZD.js";import"./interopRequireDefault-BbjLfwJi.js";import"./extends-DM2IsgWP.js";import"./defineProperty-DpFVb8oi.js";function q({files:l=[],images:d=[],auth:m}){p({db_name:"",image_name:""});const h=async r=>{try{const a={url:route("admin.backups.update-db"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{db_name:r}};i.fire({title:"Are you sure you want to restore this Database?",text:"Once restored, old data cannot be recovered.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, Restore it!"}).then(async t=>{t.isConfirmed&&await c(a).then(n=>{n.status==200?i.fire("Restored!","Database have been restored.","success"):i.fire("Error!","There was an error restoring the database.","error")})})}catch(a){console.error("Error fetching data",a)}},x=r=>{const a={url:route("admin.backups.update-images"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{image_name:r}};i.fire({title:"Are you sure you want to restore this Images?",text:"Once restored, old data cannot be recovered.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, Restore it!"}).then(async t=>{t.isConfirmed&&await c(a).then(n=>{n.status?i.fire("Restored!","Images have been restored.","success"):i.fire("Error!","There was an error restoring the images.","error")})})};return e.jsxs(b,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Backup Files"}),children:[e.jsx(j,{title:"Backup Files"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h4",{className:"page-title",children:"Backup Files"}),e.jsx("div",{className:"d-inline-block align-items-center mt-2",children:e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsxs(u,{href:route("admin.index"),children:[e.jsx("i",{className:"bi bi-house"})," Dashboard"]})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Backup Files"})]})})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"text-end"})})]})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsx("div",{className:"box-body",children:e.jsxs(o,{permission:"Categories Listing",message:"true",children:[e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs(s.Table,{className:"table border-no",children:[e.jsx(s.Thead,{children:e.jsxs(s.Tr,{children:[e.jsx(s.Th,{children:"Image File"}),e.jsx(s.Th,{})]})}),e.jsx(s.Tbody,{children:d.map((r,a)=>e.jsxs(s.Tr,{children:[e.jsx(s.Td,{children:r.name}),e.jsx(s.Td,{align:"right",children:e.jsx(o,{permission:"Category Show",children:e.jsx("span",{onClick:()=>x(r.originalName),title:"Restore",className:"btn btn-transparent",children:e.jsx("i",{className:"bi bi-arrow-clockwise"})})})})]},a))})]})}),e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs(s.Table,{className:"table border-no",children:[e.jsx(s.Thead,{children:e.jsxs(s.Tr,{children:[e.jsx(s.Th,{children:"Database Name"}),e.jsx(s.Th,{})]})}),e.jsx(s.Tbody,{children:l.map((r,a)=>e.jsxs(s.Tr,{children:[e.jsx(s.Td,{children:r.name}),e.jsx(s.Td,{align:"right",children:e.jsx(o,{permission:"Category Show",children:e.jsx("span",{onClick:()=>h(r.originalName),title:"Restore",className:"btn btn-transparent",children:e.jsx("i",{className:"bi bi-arrow-clockwise"})})})})]},a))})]})})]})})})})})})]})})]})}export{q as default};
