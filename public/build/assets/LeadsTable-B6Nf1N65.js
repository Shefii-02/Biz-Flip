import{r as i,j as e,y as o}from"./app-BzHzbjUi.js";import p from"./LeadStatusBtn-C7jte4cu.js";import"./server.browser-v383zuE6.js";import{M as s}from"./Modal-NL7CEDYF.js";import b from"./Lead-C023NzBc.js";import{P as r}from"./PermissionAllow-r-u98lAn.js";import"./useMergedRefs-p-XhYV3y.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./TransitionGroupContext-BG4bzCke.js";import"./setPrototypeOf-DgZC2w_0.js";import"./index-DOHSW8CS.js";function B({leads:d}){const[c,n]=i.useState(!1),[h,x]=i.useState(null);i.useState("Lead details");const m=()=>n(!1),l=async t=>{x(t),n(!0)},j=t=>{n(!1),o.put(route("seller.leads.update",t.id))},u=t=>{window.confirm("Are you sure you want to delete the lead?")&&o.delete(route("seller.leads.destroy",t.id))};return e.jsxs(e.Fragment,{children:[e.jsxs(s,{show:c,onHide:m,centered:!0,children:[e.jsx(s.Header,{closeButton:!0,children:e.jsx(s.Title,{children:"Lead Details"})}),e.jsx(s.Body,{children:e.jsx(b,{lead:h,attendLead:j})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover table-nowrap",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Client"}),e.jsx("th",{scope:"col",children:"Ad"}),e.jsx("th",{scope:"col",children:"Date"}),e.jsx(r,{permission:"Ad Lead Show",children:e.jsx("th",{scope:"col",children:"Message"})}),e.jsx("th",{scope:"col",children:"Contact details"}),e.jsx("th",{scope:"col",children:"Status"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:d.length?e.jsx(e.Fragment,{children:d.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[t.firstname," ",t.lastname]})}),e.jsxs("td",{children:[e.jsx("div",{children:t.ad.title}),e.jsx("div",{className:"small text-muted",children:t.ad.city})]}),e.jsx("td",{children:t.date_text}),e.jsx(r,{permission:"Ad Lead Show",children:e.jsx("td",{children:e.jsx("div",{onClick:a=>l(t),role:"button",className:"text-primary text-decoration-underline",children:"Read message"})})}),e.jsxs("td",{children:[e.jsx("div",{children:t.email}),e.jsx("div",{className:"small text-muted",children:t.phone})]}),e.jsx("td",{children:e.jsx(p,{status:t.status})}),e.jsxs("td",{children:[e.jsx(r,{permission:"Ad Lead Show",children:e.jsx("button",{onClick:a=>l(t),type:"button",className:"btn btn-sm btn-square btn-neutral text-danger-hover me-2",children:e.jsx("i",{className:"bi bi-search"})})}),e.jsx(r,{permission:"Ad Lead Edit",children:e.jsx("button",{onClick:a=>u(t),type:"button",className:"btn btn-sm btn-square btn-neutral text-danger-hover",children:e.jsx("i",{className:"bi bi-trash"})})})]})]},t.id))}):e.jsx(e.Fragment,{children:e.jsx("tr",{children:e.jsx("td",{className:"text-center",colSpan:"100",children:"No records found.."})})})})]})})]})}export{B as default};
