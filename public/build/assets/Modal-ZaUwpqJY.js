import{m as ae,o as Ee,d as qe,f as ve,e as T,j as we,l as Me,q as I,u as $,c as y,k as Je,r as ke,i as Qe}from"./listen-BbKSz9Gy.js";import{b as ye,u as Ze,d as Pe,c as Ne,a as et}from"./useWindow-DhqI_zMA.js";import{r as a,j as l,e as tt}from"./app-DOZcIWVh.js";import{s as J,N as nt,F as Ae,t as ot}from"./Fade-DFkOFMZb.js";import{P as fe}from"./index-DHEsC4vh.js";var se;function je(e){if((!se&&se!==0||e)&&ae){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),se=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return se}function rt(e){const t=a.useRef(e);return t.current=e,t}function Le(e){const t=rt(e);a.useEffect(()=>()=>t.current(),[])}function he(e){e===void 0&&(e=Ee());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function st(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Oe=qe("modal-open");class Re{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return st(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[o]:r.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(J(r,o)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Oe,""),J(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Oe),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const ge=(e,t)=>ae?e==null?(t||Ee()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function at(e,t){const n=ye(),[o,r]=a.useState(()=>ge(e,n==null?void 0:n.document));if(!o){const s=ge(e);s&&r(s)}return a.useEffect(()=>{},[t,o]),a.useEffect(()=>{const s=ge(e);s!==o&&r(s)},[e,o]),o}function it(e){return e.code==="Escape"||e.keyCode===27}function lt(){const e=a.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const dt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ct(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function ut(e){let{onEnter:t,onEntering:n,onEntered:o,onExit:r,onExiting:s,onExited:h,addEndListener:g,children:u}=e,f=ct(e,dt);const{major:m}=lt(),R=m>=19?u.props.ref:u.ref,p=a.useRef(null),b=ve(p,typeof u=="function"?null:R),E=C=>w=>{C&&p.current&&C(p.current,w)},j=a.useCallback(E(t),[t]),_=a.useCallback(E(n),[n]),x=a.useCallback(E(o),[o]),H=a.useCallback(E(r),[r]),O=a.useCallback(E(s),[s]),K=a.useCallback(E(h),[h]),U=a.useCallback(E(g),[g]);return Object.assign({},f,{nodeRef:p},t&&{onEnter:j},n&&{onEntering:_},o&&{onEntered:x},r&&{onExit:H},s&&{onExiting:O},h&&{onExited:K},g&&{addEndListener:U},{children:typeof u=="function"?(C,w)=>u(C,Object.assign({},w,{ref:b})):a.cloneElement(u,{ref:b})})}const ft=["component"];function ht(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}const gt=a.forwardRef((e,t)=>{let{component:n}=e,o=ht(e,ft);const r=ut(o);return l.jsx(n,Object.assign({ref:t},r))});function mt({in:e,onTransition:t}){const n=a.useRef(null),o=a.useRef(!0),r=T(t);return we(()=>{if(!n.current)return;let s=!1;return r({in:e,element:n.current,initial:o.current,isStale:()=>s}),()=>{s=!0}},[e,r]),we(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function pt({children:e,in:t,onExited:n,onEntered:o,transition:r}){const[s,h]=a.useState(!t);t&&s&&h(!1);const g=mt({in:!!t,onTransition:f=>{const m=()=>{f.isStale()||(f.in?o==null||o(f.element,f.initial):(h(!0),n==null||n(f.element)))};Promise.resolve(r(f)).then(m,R=>{throw f.in||h(!0),R})}}),u=ve(g,e.ref);return s&&!t?null:a.cloneElement(e,{ref:u})}function Se(e,t,n){return e?l.jsx(gt,Object.assign({},n,{component:e})):t?l.jsx(pt,Object.assign({},n,{transition:t})):l.jsx(nt,Object.assign({},n))}const Et=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vt(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let me;function yt(e){return me||(me=new Re({ownerDocument:e==null?void 0:e.document})),me}function Rt(e){const t=ye(),n=e||yt(t),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:a.useCallback(r=>{o.current.backdrop=r},[])})}const De=a.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:r,style:s,children:h,backdrop:g=!0,keyboard:u=!0,onBackdropClick:f,onEscapeKeyDown:m,transition:R,runTransition:p,backdropTransition:b,runBackdropTransition:E,autoFocus:j=!0,enforceFocus:_=!0,restoreFocus:x=!0,restoreFocusOptions:H,renderDialog:O,renderBackdrop:K=d=>l.jsx("div",Object.assign({},d)),manager:U,container:C,onShow:w,onHide:G=()=>{},onExit:ie,onExited:V,onExiting:Q,onEnter:Z,onEntering:P,onEntered:ee}=e,le=vt(e,Et);const M=ye(),S=at(C),c=Rt(U),de=Ze(),te=Pe(n),[N,B]=a.useState(!n),v=a.useRef(null);a.useImperativeHandle(t,()=>c,[c]),ae&&!te&&n&&(v.current=he(M==null?void 0:M.document)),n&&N&&B(!1);const k=T(()=>{if(c.add(),A.current=Me(document,"keydown",ue),X.current=Me(document,"focus",()=>setTimeout(ce),!0),w&&w(),j){var d,re;const q=he((d=(re=c.dialog)==null?void 0:re.ownerDocument)!=null?d:M==null?void 0:M.document);c.dialog&&q&&!Ne(c.dialog,q)&&(v.current=q,c.dialog.focus())}}),z=T(()=>{if(c.remove(),A.current==null||A.current(),X.current==null||X.current(),x){var d;(d=v.current)==null||d.focus==null||d.focus(H),v.current=null}});a.useEffect(()=>{!n||!S||k()},[n,S,k]),a.useEffect(()=>{N&&z()},[N,z]),Le(()=>{z()});const ce=T(()=>{if(!_||!de()||!c.isTopModal())return;const d=he(M==null?void 0:M.document);c.dialog&&d&&!Ne(c.dialog,d)&&c.dialog.focus()}),ne=T(d=>{d.target===d.currentTarget&&(f==null||f(d),g===!0&&G())}),ue=T(d=>{u&&it(d)&&c.isTopModal()&&(m==null||m(d),d.defaultPrevented||G())}),X=a.useRef(),A=a.useRef(),oe=(...d)=>{B(!0),V==null||V(...d)};if(!S)return null;const L=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},le,{style:s,className:r,tabIndex:-1});let Y=O?O(L):l.jsx("div",Object.assign({},L,{children:a.cloneElement(h,{role:"document"})}));Y=Se(R,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ie,onExiting:Q,onExited:oe,onEnter:Z,onEntering:P,onEntered:ee,children:Y});let D=null;return g&&(D=K({ref:c.setBackdropRef,onClick:ne}),D=Se(b,E,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:D})),l.jsx(l.Fragment,{children:tt.createPortal(l.jsxs(l.Fragment,{children:[D,Y]}),S)})});De.displayName="Modal";const bt=Object.assign(De,{Manager:Re});function Tt(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function xt(e,t){e.classList?e.classList.add(t):Tt(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Be(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ct(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Be(e.className,t):e.setAttribute("class",Be(e.className&&e.className.baseVal||"",t))}const W={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class wt extends Re{adjustAndStore(t,n,o){const r=n.style[t];n.dataset[t]=r,J(n,{[t]:`${parseFloat(J(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],J(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(xt(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";I(n,W.FIXED_CONTENT).forEach(s=>this.adjustAndStore(o,s,t.scrollBarWidth)),I(n,W.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-t.scrollBarWidth)),I(n,W.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Ct(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";I(n,W.FIXED_CONTENT).forEach(s=>this.restore(o,s)),I(n,W.STICKY_CONTENT).forEach(s=>this.restore(r,s)),I(n,W.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let pe;function Mt(e){return pe||(pe=new wt(e)),pe}const Fe=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=$(t,"modal-body"),l.jsx(n,{ref:r,className:y(e,t),...o})));Fe.displayName="ModalBody";const Ie=a.createContext({onHide(){}}),be=a.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:r,fullscreen:s,children:h,scrollable:g,...u},f)=>{e=$(e,"modal");const m=`${e}-dialog`,R=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return l.jsx("div",{...u,ref:f,className:y(m,t,r&&`${e}-${r}`,o&&`${m}-centered`,g&&`${m}-scrollable`,s&&R),children:l.jsx("div",{className:y(`${e}-content`,n),children:h})})});be.displayName="ModalDialog";const We=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=$(t,"modal-footer"),l.jsx(n,{ref:r,className:y(e,t),...o})));We.displayName="ModalFooter";const kt={"aria-label":fe.string,onClick:fe.func,variant:fe.oneOf(["white"])},Te=a.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},r)=>l.jsx("button",{ref:r,type:"button",className:y("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));Te.displayName="CloseButton";Te.propTypes=kt;const Nt=a.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:r,...s},h)=>{const g=a.useContext(Ie),u=T(()=>{g==null||g.onHide(),o==null||o()});return l.jsxs("div",{ref:h,...s,children:[r,n&&l.jsx(Te,{"aria-label":e,variant:t,onClick:u})]})}),$e=a.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...r},s)=>(e=$(e,"modal-header"),l.jsx(Nt,{ref:s,...r,className:y(t,e),closeLabel:n,closeButton:o})));$e.displayName="ModalHeader";const jt=e=>a.forwardRef((t,n)=>l.jsx("div",{...t,ref:n,className:y(t.className,e)})),Ot=jt("h4"),_e=a.forwardRef(({className:e,bsPrefix:t,as:n=Ot,...o},r)=>(t=$(t,"modal-title"),l.jsx(n,{ref:r,className:y(e,t),...o})));_e.displayName="ModalTitle";function St(e){return l.jsx(Ae,{...e,timeout:null})}function Bt(e){return l.jsx(Ae,{...e,timeout:null})}const He=a.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:r,children:s,dialogAs:h=be,"data-bs-theme":g,"aria-labelledby":u,"aria-describedby":f,"aria-label":m,show:R=!1,animation:p=!0,backdrop:b=!0,keyboard:E=!0,onEscapeKeyDown:j,onShow:_,onHide:x,container:H,autoFocus:O=!0,enforceFocus:K=!0,restoreFocus:U=!0,restoreFocusOptions:C,onEntered:w,onExit:G,onExiting:ie,onEnter:V,onEntering:Q,onExited:Z,backdropClassName:P,manager:ee,...le},M)=>{const[S,c]=a.useState({}),[de,te]=a.useState(!1),N=a.useRef(!1),B=a.useRef(!1),v=a.useRef(null),[k,z]=et(),ce=ve(M,z),ne=T(x),ue=Je();e=$(e,"modal");const X=a.useMemo(()=>({onHide:ne}),[ne]);function A(){return ee||Mt({isRTL:ue})}function oe(i){if(!ae)return;const F=A().getScrollbarWidth()>0,Ce=i.scrollHeight>Ee(i).documentElement.clientHeight;c({paddingRight:F&&!Ce?je():void 0,paddingLeft:!F&&Ce?je():void 0})}const L=T(()=>{k&&oe(k.dialog)});Le(()=>{ke(window,"resize",L),v.current==null||v.current()});const Y=()=>{N.current=!0},D=i=>{N.current&&k&&i.target===k.dialog&&(B.current=!0),N.current=!1},d=()=>{te(!0),v.current=ot(k.dialog,()=>{te(!1)})},re=i=>{i.target===i.currentTarget&&d()},q=i=>{if(b==="static"){re(i);return}if(B.current||i.target!==i.currentTarget){B.current=!1;return}x==null||x()},Ke=i=>{E?j==null||j(i):(i.preventDefault(),b==="static"&&d())},Ue=(i,F)=>{i&&oe(i),V==null||V(i,F)},Ge=i=>{v.current==null||v.current(),G==null||G(i)},Ve=(i,F)=>{Q==null||Q(i,F),Qe(window,"resize",L)},ze=i=>{i&&(i.style.display=""),Z==null||Z(i),ke(window,"resize",L)},Xe=a.useCallback(i=>l.jsx("div",{...i,className:y(`${e}-backdrop`,P,!p&&"show")}),[p,P,e]),xe={...n,...S};xe.display="block";const Ye=i=>l.jsx("div",{role:"dialog",...i,style:xe,className:y(t,e,de&&`${e}-static`,!p&&"show"),onClick:b?q:void 0,onMouseUp:D,"data-bs-theme":g,"aria-label":m,"aria-labelledby":u,"aria-describedby":f,children:l.jsx(h,{...le,onMouseDown:Y,className:o,contentClassName:r,children:s})});return l.jsx(Ie.Provider,{value:X,children:l.jsx(bt,{show:R,ref:ce,backdrop:b,container:H,keyboard:!0,autoFocus:O,enforceFocus:K,restoreFocus:U,restoreFocusOptions:C,onEscapeKeyDown:Ke,onShow:_,onHide:x,onEnter:Ue,onEntering:Ve,onEntered:w,onExit:Ge,onExiting:ie,onExited:ze,manager:A(),transition:p?St:void 0,backdropTransition:p?Bt:void 0,renderBackdrop:Xe,renderDialog:Ye})})});He.displayName="Modal";const Wt=Object.assign(He,{Body:Fe,Header:$e,Title:_e,Footer:We,Dialog:be,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Wt as M};
