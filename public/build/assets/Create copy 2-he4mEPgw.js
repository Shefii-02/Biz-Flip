import{W as k,j as l,Y as C,a as p}from"./app-CNuW8Mqd.js";import{A as _}from"./AdminAuthenticated-EytiaJR8.js";import{I as N}from"./InputError-Bof2stj9.js";import{T as g}from"./TextInput-BSjUHEsB.js";import{I as d}from"./InputLabel-Blj4Wwih.js";import{D as v}from"./DynamicSelect-qCMwhc4i.js";import"./Dropdown-nfTlSRmp.js";import"./AdminSidebar-DSYl2MR3.js";import"./listen-tQV9BwhB.js";import"./useWindow-FjiBN0Dk.js";import"./Anchor-CMKdVikk.js";import"./extends-B6xKY8K9.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./index-DX0KesNH.js";import"./PermissionAllow-Do5QOulq.js";import"./ToastNotification-COOh-z2M.js";import"./react-select-creatable.esm-BZpB3ieE.js";import"./useStateManager-7e1e8489.esm-DaRfBTM_.js";import"./objectSpread2-BZX5QY3a.js";import"./defineProperty-DpFVb8oi.js";import"./inherits-CWsdyUoO.js";import"./setPrototypeOf-DgZC2w_0.js";import"./emotion-react.browser.esm-B98Q1Z1v.js";import"./hoist-non-react-statics.cjs-Cu2p8y5R.js";const Q=({auth:r})=>{const{data:e,setData:i,post:b,errors:o,reset:j}=k({menuItems:[{title:"",landingpageUrl:"",custom_link:"",children:[]}]}),h=()=>{i("menuItems",[...e.menuItems,{title:"",landingpageUrl:"",custom_link:"",children:[]}])},u=t=>{const s=[...e.menuItems];s.splice(t,1),i("menuItems",s)},a=(t,s,m)=>{const c=[...e.menuItems];c[t][s]=m,i("menuItems",c)},n=t=>{const s=[...e.menuItems];s[t].children.push({title:"",landingpageUrl:"page-link",custom_link:"",children:[]}),i("menuItems",s)},x=(t,s)=>{const m=[...e.menuItems];m[t].children.splice(s,1),i("menuItems",m)};return l.jsxs(_,{user:r.user,header:l.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Navigation Menu/Create"}),children:[l.jsx(C,{title:"Navigation Menu Create"}),l.jsx("div",{className:"content-wrapper me-4",children:l.jsxs("div",{className:"container-full",children:[l.jsx("div",{className:"content-header",children:l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-lg-6",children:l.jsxs("div",{className:"d-flex flex-column",children:[l.jsx("h4",{className:"page-title",children:" Create Navigation Menu"}),l.jsx("div",{className:"d-inline-block align-items-center mt-2",children:l.jsx("nav",{children:l.jsxs("ol",{className:"breadcrumb",children:[l.jsx("li",{className:"breadcrumb-item",children:l.jsxs(p,{href:route("admin.index"),children:[l.jsx("i",{className:"bi bi-house"})," Dashboard"]})}),l.jsx("li",{className:"breadcrumb-item",children:l.jsx(p,{href:route("admin.navigation-menu.index"),children:"Navigation Menu"})}),l.jsx("li",{className:"breadcrumb-item active",children:"Create"})]})})})]})}),l.jsx("div",{className:"col-lg-6"})]})}),l.jsxs("section",{className:"content",children:[e.menuItems.map((t,s)=>l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"tree-node row",children:[l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`title-${s}`,className:"fw-700 fs-16 form-label form-group__label",children:"Title"}),l.jsx(g,{id:`title-${s}`,className:"form-control",value:t.title,onChange:m=>a(s,"title",m.target.value)}),l.jsx(N,{error:o.title})]})}),l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`landingpageUrl-${s}`,className:"fw-700 fs-16 form-label form-group__label",children:"Link Type"}),l.jsx(v,{id:`landingpageUrl-${s}`,className:"form-control",value:t.landingpageUrl,options:[{value:"page-link",label:"Page Link"},{value:"custom-link",label:"Custom Link"}],onChange:m=>a(s,"landingpageUrl",m)})]})}),t.landingpageUrl==="custom-link"&&l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`custom_link-${s}`,className:"fw-700 fs-16 form-label form-group__label",children:"Custom Link"}),l.jsx(g,{id:`custom_link-${s}`,className:"form-control",value:t.custom_link,onChange:m=>a(s,"custom_link",m.target.value)}),l.jsx(N,{error:o.custom_link})]})}),l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"mt-1",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>u(s),children:"Remove"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>n(s),children:"Add Child"})]})}),t.children.map((m,c)=>l.jsx("div",{className:"mb-4 ml-5",children:l.jsx(f,{node:m,parentIndex:s,childIndex:c,onRemoveParent:()=>x(s,c),onAddChild:()=>n(s),onChange:a,errors:o})},c))]})},s)),l.jsx("div",{className:"mt-1",children:l.jsx("button",{type:"button",className:"btn btn-sm btn-dark",onClick:h,children:"Add Part"})}),l.jsx("div",{className:"mt-3",children:l.jsx("button",{type:"submit",className:"btn btn-sm btn-neutral",children:"Save Menu"})})]})]})})]})},f=({node:r,parentIndex:e,childIndex:i,onRemoveParent:b,onAddChild:o,onChange:j,errors:h})=>{const u=(a,n)=>{j(e,a,n)};return l.jsxs("div",{className:"tree-node row",children:[l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`title-${e}-${i}`,className:"fw-700 fs-16 form-label form-group__label",children:"Title"}),l.jsx(g,{id:`title-${e}-${i}`,className:"form-control",value:r.title,onChange:a=>u("title",a.target.value)})]})}),l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`landingpageUrl-${e}-${i}`,className:"fw-700 fs-16 form-label form-group__label",children:"Link Type"}),l.jsx(v,{id:`landingpageUrl-${e}-${i}`,className:"form-control",value:r.landingpageUrl,options:[{value:"page-link",label:"Page Link"},{value:"custom-link",label:"Custom Link"}],onChange:a=>u("landingpageUrl",a)})]})}),r.landingpageUrl==="custom-link"&&l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"form-group",children:[l.jsx(d,{htmlFor:`custom_link-${e}-${i}`,className:"fw-700 fs-16 form-label form-group__label",children:"Custom Link"}),l.jsx(g,{id:`custom_link-${e}-${i}`,className:"form-control",value:r.custom_link,onChange:a=>u("custom_link",a.target.value)}),l.jsx(N,{error:h.custom_link})]})}),l.jsx("div",{className:"col-lg-3 mb-3",children:l.jsxs("div",{className:"mt-1",children:[l.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>b(i),children:"Remove"}),l.jsx("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>o(),children:"Add Child"})]})}),r.children.map((a,n)=>l.jsx("div",{className:"mb-4 ml-5",children:l.jsx(f,{node:a,parentIndex:e,childIndex:n,onRemoveParent:()=>b(n),onAddChild:()=>o(),onChange:j,errors:h})},n))]})};export{Q as default};
