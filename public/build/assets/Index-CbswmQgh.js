import{r as n,j as e,Y,a as F,y as z,b as H}from"./app-DvUISPJn.js";import{A as O}from"./AdminAuthenticated-qAPTL6CO.js";import{P as u}from"./PermissionAllow-BSgDrbo_.js";import{T as A}from"./Tab-DnQ3Zpfj.js";import{T as R}from"./Tabs-DwUGEHny.js";import{M as $}from"./ModalPopup-Bmoryxvb.js";import q from"./ViewSeller-0gNZkCry.js";import{d as s}from"./index-B6HQA9GC.js";/* empty css                                  */import{S as G}from"./sweetalert2.all-D2eB_-6h.js";import{P as J}from"./Pagination-CIQGa7Rv.js";import"./Dropdown-CpEtAUJg.js";import"./AdminSidebar-UCVvQ_yG.js";import"./listen-C_H2u1Mk.js";import"./useWindow-Crh46U__.js";import"./Anchor-D-ApXcz1.js";import"./extends-CCbyfPlC.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./index-C9clcpwE.js";import"./ToastNotification-CitrAB6g.js";import"./index-tWxPSefe.js";import"./index-Chjiymov.js";import"./TabPane-D0pZyEGu.js";import"./Fade-DEZFuX-D.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./TransitionGroupContext-CBmSgjqp.js";import"./ElementChildren-B8NUoDAZ.js";import"./Modal-g40aHVn0.js";import"./slick-theme-CrREVhD4.js";import"./StatusBtn-jvoxIFcE.js";import"./DynamicSelect-BHHKhBLX.js";import"./react-select-creatable.esm-DVeyHWca.js";import"./useStateManager-7e1e8489.esm-BWgT7QMB.js";import"./objectSpread2-Cb9oE9w6.js";import"./defineProperty-D_iN_pGO.js";import"./extends-CkJbhqZ5.js";import"./emotion-react.browser.esm-DGO3JfO1.js";import"./hoist-non-react-statics.cjs-B8cWLWHZ.js";function Be({vendorsList:d,pendingVendorsList:o,suspendedVendorsList:h,auth:g}){const[c,p]=n.useState(1),[m,f]=n.useState(""),[S,t]=n.useState(d.data),[j,I]=n.useState(o.data),[K,B]=n.useState(h.data),[l,L]=n.useState("ApprovedSellers"),[k,b]=n.useState(!1),[E,V]=n.useState(null),N=a=>{G.fire({title:"Are you sure you want to delete the Seller?",text:" Once deleted, it cannot be recovered.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&z.delete(route("admin.sellers.destroy",a.id))})},v=(a,r)=>{p(r),window.scrollTo(0,0)},T=a=>{const r=a.target.value;f(r);let i;l==="ApprovedSellers"?(i=d.data.filter(x=>x.full_name.toLowerCase().includes(r.toLowerCase())),t(i)):l==="PendingApproval"?(i=o.data.filter(x=>x.full_name.toLowerCase().includes(r.toLowerCase())),I(i)):l==="SuspendedSellers"&&(i=h.data.filter(x=>x.full_name.toLowerCase().includes(r.toLowerCase())),B(i)),p(1)},w=(()=>{if(m.length>0){if(l==="ApprovedSellers")return S;if(l==="PendingApproval")return j;if(l==="SuspendedSellers")return K}else{if(l==="ApprovedSellers")return d.data;if(l==="PendingApproval")return o.data;if(l==="SuspendedSellers")return h.data}})(),y=(c-1)*20,P=c*20,M=()=>b(!1),C=async a=>{try{const i=(await H.get(route("admin.sellers.show",a.id))).data;V(i),b(!0)}catch(r){console.error("Error fetching data",r)}},Q=()=>{b(!1)};return e.jsxs(O,{user:g.user,children:[e.jsx(Y,{title:"Sellers List"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsx("div",{className:"me-auto",children:e.jsx("h4",{className:"page-title",children:"Sellers Listing"})})})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"text-end",children:e.jsx(u,{permission:"Seller Create",children:e.jsxs(F,{className:"btn btn-info text-end",href:route("admin.sellers.create"),children:[e.jsx("i",{className:"bi bi-plus"})," Create"]})})})})]})}),e.jsxs(R,{id:"uncontrolled-tab-example",activeKey:l,onSelect:a=>L(a),className:"",children:[e.jsx(A,{eventKey:"ApprovedSellers",title:"Approved Sellers",children:e.jsx(_,{displayList:w,startIdx:y,endIdx:P,deleteVendor:N,handlePageChange:v,currentPage:c,itemsPerPage:20,handleShow:C,searchQuery:m,handleSearch:T})}),e.jsx(A,{eventKey:"PendingApproval",title:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Pending Approval"}),o.data.length>0&&e.jsx("span",{className:"pending-approval-count",children:o.data.length})]}),children:e.jsx(_,{displayList:w,startIdx:y,endIdx:P,deleteVendor:N,handlePageChange:v,currentPage:c,itemsPerPage:20,handleShow:C,searchQuery:m,handleSearch:T})}),e.jsx(A,{eventKey:"SuspendedSellers",title:"Suspended Sellers",children:e.jsx(_,{displayList:w,startIdx:y,endIdx:P,deleteVendor:N,handlePageChange:v,currentPage:c,itemsPerPage:20,handleShow:C,searchQuery:m,handleSearch:T})})]})]})}),e.jsx($,{show:k,handleClose:M,size:"md",title:"Seller Details",children:E?e.jsx(q,{collection:E,handleClose:M,onSubmit:Q}):"Failed fetching data..."})]})}const _=({displayList:d,startIdx:o,endIdx:h,deleteVendor:g,handlePageChange:D,currentPage:c,itemsPerPage:p,handleShow:m,searchQuery:f,handleSearch:S})=>e.jsx("section",{className:"content2",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsx("div",{className:"box-body",children:e.jsxs(u,{permission:"Categories Listing",message:"true",children:[e.jsx("div",{className:"mb-3 col-lg-4",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:f,onChange:S})}),e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs(s.Table,{className:"table border-no",id:"example1",children:[e.jsx(s.Thead,{children:e.jsxs(s.Tr,{children:[e.jsx(s.Th,{children:"#"}),e.jsx(s.Th,{children:"Name"}),e.jsx(s.Th,{children:"Email"}),e.jsx(s.Th,{children:"Mobile Number"}),e.jsx(s.Th,{children:"Company Name"}),e.jsx(s.Th,{children:"Designation"}),e.jsx(s.Th,{className:"text-center",children:"Status"}),e.jsx(s.Th,{children:"Last Modified"}),e.jsx(s.Th,{className:"text-end"})]})}),e.jsx(s.Tbody,{children:d.slice(o,h).map(t=>e.jsxs(s.Tr,{className:"hover-primary",children:[e.jsx(s.Td,{valign:"middle",children:t.id}),e.jsxs(s.Td,{valign:"middle",children:[e.jsx("img",{src:t.picture,className:"w-30 h-30 me-3 rounded-circle",alt:`${t.picture} icon`,onError:j=>{j.target.onerror=null,j.target.src="/assets/admin/images/noimage.webp"}})," ",e.jsx("span",{children:t.full_name})]}),e.jsx(s.Td,{valign:"middle",children:t.email}),e.jsx(s.Td,{valign:"middle",children:t.phone}),e.jsx(s.Td,{valign:"middle",children:t.company_name}),e.jsx(s.Td,{valign:"middle",children:t.designation}),e.jsx(s.Td,{className:"text-center",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:window.statusIcon(t.status)}})}),e.jsx(s.Td,{valign:"middle",children:window.formatDateTime(t.updated_at)}),e.jsxs(s.Td,{className:"text-end",children:[e.jsx(u,{permission:"Seller Show",children:e.jsx("span",{onClick:()=>m(t),className:"btn btn-transparent",children:e.jsx("i",{className:"bi bi-eye"})})}),e.jsx(u,{permission:"Seller Edit",children:e.jsx(F,{className:"btn btn-transparent",href:route("admin.sellers.edit",t.id),children:e.jsx("i",{className:"bi bi-pencil"})})}),e.jsx(u,{permission:"Seller Edit",children:e.jsx("button",{onClick:()=>g(t),className:"btn btn-transparent border-0",children:e.jsx("i",{className:"bi bi-trash"})})})]})]},t.id))})]})}),d.length>p&&e.jsx("div",{className:"pagination-container float-end py-5",children:e.jsx(J,{count:Math.ceil(d.length/p),page:c,onChange:D})})]})})})})})});export{Be as default};
