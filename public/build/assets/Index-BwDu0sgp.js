import{r,j as e,Y as C,a as l,y as w}from"./app-D82t0zYb.js";import{A as y}from"./AdminAuthenticated-Co3WPScJ.js";import{P as S}from"./Pagination-CxGs5ZJ1.js";import"./Dropdown-n_-zBzZ1.js";import"./AdminSidebar-CQ8Wy-h3.js";import"./listen-BW-l1QEO.js";import"./useWindow-Cc9i1myS.js";import"./Anchor-DZItBogB.js";import"./extends-CCbyfPlC.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./index-BpboWu1s.js";import"./PermissionAllow-BYDhFGYP.js";import"./ToastNotification-B_Nbzspg.js";import"./interopRequireDefault-BbjLfwJi.js";import"./emotion-react.browser.esm-D3si1N0f.js";import"./extends-Ba-yMveS.js";import"./hoist-non-react-statics.cjs-Dq3mWWjD.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./TransitionGroupContext-BR_efkoE.js";function K({cityList:c,auth:x,success:j=null,error:u=null}){const[i,d]=r.useState(1),[o,p]=r.useState(""),[b,g]=r.useState([]);r.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("name")||"";m(t)},[]);const N=s=>{window.confirm("Are you sure you want to delete the City?")&&w.delete(route("admin.city.destroy",s.id))},f=(s,t)=>{d(t),window.scrollTo(0,0)},v=s=>{const t=s.target.value;m(t)},m=(s=null)=>{p(s);const t=c.data.filter(a=>a.name.toLowerCase().includes(s.toLowerCase()));g(t),d(1)},n=o.length>0?b:c.data,h=(i-1)*50,P=i*50;return e.jsxs(y,{user:x.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"City"}),success:j,error:u,children:[e.jsx(C,{title:"City List"}),e.jsx("div",{className:"content-wrapper me-4",children:e.jsxs("div",{className:"container-full",children:[e.jsx("div",{className:"content-header",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("h4",{className:"page-title",children:"Cities"}),e.jsx("div",{className:"d-inline-block align-items-center mt-2",children:e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsxs(l,{href:route("admin.index"),children:[e.jsx("i",{className:"bi bi-house"})," Dashboard"]})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Cities"})]})})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"text-end",children:e.jsxs(l,{className:"btn btn-info text-end",href:route("admin.city.create"),children:[e.jsx("i",{className:"bi bi-plus"})," Create"]})})})]})}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search by name...",value:o,onChange:v})}),e.jsx("section",{className:"content",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"box-body",children:[e.jsx("div",{className:"table-responsive rounded card-table",children:e.jsxs("table",{className:"table border-no",id:"example1",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Position"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Modified"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:n.slice(h,P).map((s,t)=>e.jsxs("tr",{className:"hover-primary",children:[e.jsx("td",{children:t+h+1}),e.jsx("td",{children:e.jsx("img",{src:s.image,className:"w-100 rounded-5 ",alt:`${s.image} icon`,onError:a=>{a.target.onerror=null,a.target.src="/assets/admin/images/noimage.webp"}})}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.position}),e.jsx("td",{children:s.status}),e.jsx("td",{children:s.updated_at}),e.jsxs("td",{children:[e.jsx(l,{className:"btn btn-transparent",href:route("admin.city.edit",s.id),children:e.jsx("i",{className:"bi bi-pencil"})}),e.jsx("button",{onClick:a=>N(s),className:"btn btn-transparent border-0",children:e.jsx("i",{className:"bi bi-trash"})})]})]},s.id))})]})}),n.length>50&&e.jsx("div",{className:"pagination-container float-end py-5",children:e.jsx(S,{count:Math.ceil(n.length/50),page:i,onChange:f})})]})})})})})]})})]})}export{K as default};
