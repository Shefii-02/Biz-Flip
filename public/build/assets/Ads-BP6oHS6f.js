import{r as a,W as w,j as e,S as V,Y as q,a as I,b as P,y as k}from"./app-DvQGNSQ4.js";import"./Dropdown-CNPqD9J2.js";import"./index-VMkwHhWH.js";import{P as E}from"./PermissionAllow-CwtACi1H.js";import R from"./Wrapper-BGZDjzQ3.js";import W from"./AdsTable-BXEtvx8P.js";import F from"./Delete-BvBnbcpp.js";import{S as i}from"./react-select.esm-CLV2RUgB.js";import"./SideBar-vVmiEARF.js";import"./ProfileDropdown-quH59c55.js";import"./Header-TrsGpA-E.js";import"./ToastNotification--DPTrFX6.js";import"./AdStatusBtn-Bp2UkHg3.js";import"./AdAction-Tp-6Vu5k.js";import"./Modal-FgqUnYPA.js";import"./listen-teOUKAjB.js";import"./useWindow-ByyYJc5W.js";import"./Fade-DBYiUhj2.js";import"./objectWithoutPropertiesLoose-DXrfETLX.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./TransitionGroupContext-B9M6lv6e.js";import"./index-D0OV_dKK.js";import"./useStateManager-7e1e8489.esm-CUBOu890.js";import"./extends-CCbyfPlC.js";import"./objectSpread2-Cb9oE9w6.js";import"./defineProperty-D_iN_pGO.js";import"./extends-CkJbhqZ5.js";import"./emotion-react.browser.esm-DdicrZ9q.js";import"./hoist-non-react-statics.cjs-BxRB6118.js";function xe({auth:m,ads:u,categories:o,industries:n}){const[p,c]=a.useState(!1),[x,h]=a.useState(u.data),{data:s,setData:l}=w({q:"",status:"",status_title:"All status",category:"",category_title:"All categories",industry:"",industry_title:"All industries"}),v=async()=>{c(!0);const t=await P.get(route("seller.ads.search",s));h(t.data),c(!1)},[j,r]=a.useState(!1),[f,b]=a.useState(null),g=function(t){r(!1),k.delete(route("seller.ads.destroy",t))},y=t=>{b(t),r(!0)},N=()=>r(!1),A=[{label:"Pending",value:-1},{label:"Active",value:1},{label:"Inactive",value:0},{label:"Sold",value:2}],[S,_]=a.useState(n),C=t=>{const d=o.find(D=>D.value===t);_(d?d.ad_category_collection:n)};return e.jsxs(e.Fragment,{children:[p&&e.jsx(V,{}),e.jsx(q,{title:"Ads"}),e.jsx(F,{showDelete:j,handleClose:N,deleteAction:g,deleteId:f,setShowDelete:r}),e.jsx(R,{user:m.user,children:e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"vstack gap-6 m-auto",children:[e.jsx("div",{className:"text-xl font-bold",children:"Ads"}),e.jsx("div",{children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header border-bottom",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"",children:e.jsx("input",{defaultValue:s.q,onChange:t=>l("q",t.target.value),type:"search",placeholder:"Search by name, location etc",className:"text-overflow form-control"})}),e.jsx("div",{className:"ms-2",children:e.jsx(i,{defaultValue:{value:s.category,label:s.category_title},onChange:t=>{l("category",t.value),C(t.value)},options:[{label:"All categories",value:""},...o]})}),e.jsx("div",{className:"ms-2",children:e.jsx(i,{defaultValue:{value:s.industry,label:s.industry_title},onChange:t=>{l("industry",t.value)},options:[{label:"All industries",value:""},...S]})}),e.jsx("div",{className:"ms-2",children:e.jsx(i,{defaultValue:{value:s.status,label:s.status_title},onChange:t=>l("status",t.value),options:[{label:"All status",value:""},...A]})}),e.jsx("div",{className:"ms-2",children:e.jsx("button",{onClick:t=>v(),type:"button",className:"btn btn-neutral me-2",children:e.jsx("i",{className:"bi bi-search"})})}),e.jsx(E,{permission:"Ad Create",children:e.jsx("div",{className:"ms-auto",children:e.jsxs(I,{className:"btn btn-primary text-overflow",href:route("seller.ads.create"),children:[e.jsx("i",{className:"bi bi-plus text-md"}),e.jsx("span",{className:"d-none d-md-inline",children:"New ad"})]})})})]})}),e.jsx(W,{confirmDelete:y,ads:x})]})})]})})})})]})}export{xe as default};
